(self.webpackChunk=self.webpackChunk||[]).push([[7090],{23225:(e,t)=>{"use strict";t.NUMBERINPUT_SAVE_USER_ANSWER="NUMBERINPUT_SAVE_USER_ANSWER",t.NUMBERINPUT_EDIT_USER_ANSWER="NUMBERINPUT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.NUMBERINPUT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.NUMBERINPUT_EDIT_USER_ANSWER,payload:e})},31919:(e,t,s)=>{"use strict";const i=s(21190),n=s(45750),o=s(95919),r=s(72720),a=s(16842),{func:u,object:p}=s(60216),d=s(27378),c=s(32382),l=s(66549),m=s(35289),b=s(67209),_=s(88153),h=s(17290),{Component:E}=s(84335),w=s(86025),A=a({displayName:"NumberInput",propTypes:{component:p.isRequired,setComponentAsReady:u.isRequired,setComponentAsViewed:u.isRequired,setComponentAsComplete:u.isRequired,saveUserAnswer:u.isRequired,editUserAnswer:u.isRequired,updateVariable:u.isRequired,styles:p,setAriaLive:u.isRequired},getInitialState(){const{_userAnswer:e,_defaultValue:t}=this.props.component;return{_userAnswer:r(e)?t:e,_previousUserAnswer:void 0}},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},submitAnswer(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0}),e.setAriaLive({message:e.component.submittedLabelText,isAssertive:!1}),e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},onEditClicked(){this.setState({_previousUserAnswer:this.state._userAnswer}),this.props.editUserAnswer({componentId:this.props.component._id})},onVisibilityChange(...e){h(...e,this,this.props.setComponentAsViewed)},renderSubmittedLabel(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return d.createElement(c,{className:"ev-label",html:t})},getIsSubmitDisabled(){const{_isEditing:e=!1,_isComplete:t,_allowEditing:s}=this.props.component;return!(!t||s&&e)||""===this.state._userAnswer},validateInputDebounced:n((function(){const e=parseInt(this.state._userAnswer,10);if(o(e))return void this.setState({_userAnswer:this.props.component._defaultValue});const{_minValue:t,_maxValue:s}=this.props.component;this.setState({_userAnswer:i(e,t??-1/0,s??1/0)})}),750),renderButtons(){const{submitButtonText:e,editButtonText:t,_isEditing:s,_isComplete:i,_allowEditing:n}=this.props.component,{_isActionButtonOnRight:o}=m(this.props);return d.createElement(w,{switchButtonOrder:o,submitText:e,isSubmitDisabled:this.getIsSubmitDisabled(),onSubmitClicked:this.submitAnswer,showEditButton:n,isEditDisabled:s||!i,editText:t,onEditClicked:this.onEditClicked})},render(){const{props:e,state:t}=this;return d.createElement(E,{component:e.component,styles:e.styles,isVisibilitySensorActive:_(e),onVisibilityChange:this.onVisibilityChange},d.createElement("div",null,d.createElement("div",{className:b(e.component)},d.createElement(l,{type:"number",value:t._userAnswer,onChange:e=>{this.setState({_userAnswer:e}),this.validateInputDebounced()},isDisabled:e.component._isComplete&&!e.component._isEditing,min:e.component._minValue,max:e.component._maxValue,shouldFocus:e.component._isEditing,ariaLabel:e.component.numberInputAriaLabel}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=A},1803:(e,t,s)=>{"use strict";const i=s(41537);e.exports=(e,t)=>({articleStyle:i(e,t,"article")._classes})},75966:(e,t,s)=>{"use strict";const{registerComponent:i}=s(59671),n=s(31919),o=s(63909),{saveUserAnswer:r,editUserAnswer:a}=s(23225);i("numberInput",{component:n,actions:{saveUserAnswer:r,editUserAnswer:a},reducer:o,mapStateToProps:s(1803),trackingMap:s(29622)})},63909:(e,t,s)=>{"use strict";const{NUMBERINPUT_SAVE_USER_ANSWER:i,NUMBERINPUT_EDIT_USER_ANSWER:n}=s(23225);e.exports=function(e,t){switch(t.type){case i:return{...e,_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1};case n:return{...e,_isEditing:!0,_isSubmitted:!1};default:return e}}},29622:e=>{"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"Number",shouldRestore:!0}}},66549:(e,t,s)=>{"use strict";const i=s(16842),{bool:n,func:o,number:r,oneOf:a,oneOfType:u,string:p}=s(60216),d=s(27378),c=s(95685),l=i({displayName:"Input",propTypes:{type:a(["text","number"]),value:u([p,r]),onChange:o.isRequired,onFocus:o,onBlur:o,className:p,placeholder:p,min:r,max:r,width:p,ariaLabel:p,isDisabled:n,shouldFocus:n},getDefaultProps:()=>({type:"text"}),componentDidUpdate(e){const{shouldFocus:t}=this.props;t&&!e.shouldFocus&&this._input.focus()},render(){const{props:e}=this;return d.createElement("input",{ref:e=>this._input=e,className:c("ev-input ev-input-text",e.className),type:e.type,value:e.value,onChange:({target:t})=>e.onChange(t.value),onFocus:e.onFocus,onBlur:e.onBlur,placeholder:e.placeholder,min:e.min,max:e.max,disabled:e.isDisabled,"aria-label":e.ariaLabel,style:e.width?{width:e.width}:{}})}});e.exports=l},88153:e=>{"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:i}=e;return!0===i&&!0===s._isReady&&!0!==s[t]}},67209:(e,t,s)=>{"use strict";const i=s(95685);e.exports=e=>i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},17290:e=>{"use strict";e.exports=function(e,t,s,i,n){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&n&&n(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},86025:(e,t,s)=>{"use strict";const i=s(27378),n=s(60216),o=s(95685),r=s(16713),a=e=>i.createElement("div",{className:o("ev-buttons",{"ev-switch-buttons":e.switchButtonOrder})},e.showSubmitButton&&i.createElement(r,{text:e.submitText,isDisabled:e.isSubmitDisabled,onClick:e.onSubmitClicked}),e.showEditButton&&i.createElement(r,{text:e.editText,isDisabled:e.isEditDisabled,onClick:e.onEditClicked}));a.propTypes={switchButtonOrder:n.bool,showSubmitButton:n.bool,submitText:n.string,isSubmitDisabled:n.bool,onSubmitClicked:n.func,showEditButton:n.bool,editText:n.string,isEditDisabled:n.bool,onEditClicked:n.func},a.defaultProps={switchButtonOrder:!1,showSubmitButton:!0,showEditButton:!0},e.exports=a},95919:(e,t,s)=>{var i=s(80022);e.exports=function(e){return i(e)&&e!=+e}},80022:(e,t,s)=>{var i=s(94318),n=s(3387);e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==i(e)}}}]);
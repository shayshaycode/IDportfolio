"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2706],{90336:(e,n)=>{n.SLIDER_VALUE_CHANGED="SLIDER_VALUE_CHANGED",n.sliderValueChanged=(e,t)=>({type:n.SLIDER_VALUE_CHANGED,payload:{componentId:e,value:t}})},93916:(e,n,t)=>{const s=t(16842),{bool:i,func:a,object:o}=t(60216),l=t(27378),{Component:r}=t(84335),d=t(16713),c=t(32382),p=t(83866),m=t(67209),u=t(71315),h=t(88153),C=t(17290),_=s({displayName:"LinkedConfidenceSlider",propTypes:{component:o.isRequired,actionButtonClicked:a.isRequired,setComponentAsReady:a.isRequired,setComponentAsViewed:a.isRequired,setComponentAsStarted:a.isRequired,showFeedback:a.isRequired,sliderValueChanged:a.isRequired,isRTL:i,linkedComponent:o,styles:o},componentDidMount(){const{props:e}=this;void 0===e.component._selectedAnswer&&e.linkedComponent&&e.sliderValueChanged(e.component._id,e.linkedComponent._range._min),e.setComponentAsReady(e.component._id)},componentDidUpdate(e){const{component:n}=this.props;!e.component._isSubmitted&&n._isSubmitted&&this.showFeedback()},onChange(e){const{props:n}=this;n.component._hasStarted||n.setComponentAsStarted(n.component._id),n.sliderValueChanged(n.component._id,e)},onVisibilityChange(...e){C(...e,this,this.props.setComponentAsViewed)},showFeedback(){const{_shouldShowDisplayTitleInFeedback:e,displayTitle:n}=this.props.component,t=this.getFeedbackMessage();if(!t)return;const s=e?n:null;this.props.showFeedback({feedbackTitle:s,feedbackMessage:t})},getFeedbackMessage(){const{component:e}=this.props;if(!e._feedback)return;const n=e._selectedAnswer,t=this.props.linkedComponent._selectedAnswer;return n<t?e._feedback._lessConfidence:n>t?e._feedback._higherConfidence:n===t?e._feedback._matchingConfidence:void 0},renderLinkedIncomplete(){const{component:e}=this.props;return l.createElement("div",{className:"ev-linkedConfidenceSlider-linked-incomplete-message"},l.createElement(c,{className:"ev-linkedConfidenceSlider-linked-incomplete-message-inner ev-label",html:e._linkedIncompleteMessage}),l.createElement(d,{className:"ev-linkedConfidenceSlider-navigate-linked-button",text:e._navigateToLinkedButtonText,onClick:()=>u(e._linkedConfidenceSliderId)}))},renderPreviousConfidence(){const{linkedComponent:e,component:n}=this.props;return l.createElement("div",{className:"ev-linkedConfidenceSlider-range-linked"},l.createElement("div",{className:"linkedConfidenceSlider-range-linked-value ev-label"},l.createElement(c,{element:"span",className:"ev-linkedConfidenceSlider-range-linked-value-text",html:n._labels._previouslySelected}),l.createElement(c,{element:"span",className:"ev-linkedConfidenceSlider-range-linked-value-number ev-rangeslider-range-current-value-number",html:e._selectedAnswer})))},getIsFeedbackButtonEnabled(){const{_isComplete:e,_feedback:n,_shouldDisplayFeedbackInline:t}=this.props.component;return e&&n&&!t},render(){const{props:e}=this;return l.createElement(r,{component:e.component,styles:e.styles,isVisibilitySensorActive:h(e),onVisibilityChange:this.onVisibilityChange,hasQuestionButtons:e.linkedComponent?._isComplete,shouldHideMarking:!0,isFeedbackEnabled:this.getIsFeedbackButtonEnabled(),onFeedbackButtonClicked:this.showFeedback,onActionButtonClicked:e.actionButtonClicked},l.createElement("div",{className:m(e.component)},e.linkedComponent?._isComplete&&l.createElement(p,{value:e.component._selectedAnswer,step:e.linkedComponent._step,min:e.linkedComponent._range._min,max:e.linkedComponent._range._max,isDisabled:e.component._isComplete,onChange:this.onChange,labels:{min:e.linkedComponent._labels._min,max:e.linkedComponent._labels._max,selected:e.component._labels._selected,aria:e.component._labels.aria},isRTL:e.isRTL}),e.linkedComponent?._isComplete?this.renderPreviousConfidence():this.renderLinkedIncomplete()))}});e.exports=_},99136:(e,n,t)=>{const s=t(63269),{Observable:i}=t(49923),{COMPONENT_COMPLETED:a,updateComponents:o}=t(26759);n.confidenceSliderCompletedEpic=(e,n)=>e.ofType(a).mergeMap((({payload:e})=>{const{components:t}=n.getState(),a=t[e.componentId];if("confidenceSlider"!==a._component)return i.empty();const l=s(t).filter((e=>"linkedConfidenceSlider"===e._component&&e._linkedConfidenceSliderId===a._refId&&!e._isComplete)).mapValues((e=>({...e,_selectedAnswer:a._selectedAnswer}))).keyBy("_id").value();return i.of(o(l))}))},52675:(e,n,t)=>{const{registerComponent:s,registerEpics:i}=t(59671),a=t(93916),o=t(24125),{sliderValueChanged:l}=t(90336),{confidenceSliderCompletedEpic:r}=t(99136),d=t(22264),c=t(13656);i(r),s("linkedConfidenceSlider",{component:a,actions:{sliderValueChanged:l},reducer:o,mapStateToProps:d,trackingMap:c})},22264:(e,n,t)=>{const s=t(41537),i=t(97987);e.exports=(e,n)=>({theme:e.theme,articleStyle:s(e,n,"article")._classes,buttons:e.course._buttons,linkedComponent:i(n._linkedConfidenceSliderId)})},24125:(e,n,t)=>{const{SUBMIT_QUESTION:s}=t(26759),{SLIDER_VALUE_CHANGED:i}=t(90336);e.exports=(e,n)=>{switch(n.type){case i:return{...e,_selectedAnswer:n.payload.value};case s:return{...e,_canSubmit:!0,_isCorrect:!0};default:return e}}},13656:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_selectedAnswer:{fieldKey:"_selectedAnswer",type:"Number",shouldRestore:!0}}},83866:(e,n,t)=>{const s=t(16842),{bool:i,func:a,number:o,shape:l,string:r}=t(60216),d=t(27378),c=t(95685),p=t(92436).default,m=t(32382),u=s({displayName:"RangeSlider",propTypes:{labels:l({min:r.isRequired,max:r.isRequired,selected:r.isRequired,aria:r}),defaultValue:o,value:o,min:o.isRequired,max:o.isRequired,step:o.isRequired,onChange:a.isRequired,onAfterChange:a,onBeforeChange:a,isDisabled:i.isRequired,isRTL:i},getInitialState:()=>({hasBeenResized:!1}),getDefaultProps:()=>({isDisabled:!1}),renderRangeLabels(){if(this.props.labels)return d.createElement("div",{className:"ev-rangeslider-range-labels"},d.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},d.createElement(m,{className:"ev-rangeslider-range-min ev-label",html:`${this.props.labels.min}`}),d.createElement(m,{className:"ev-rangeslider-range-max ev-label",html:`${this.props.labels.max}`})))},renderSelectedLabel(){if(this.props.labels?.selected)return d.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},d.createElement(m,{element:"span",className:"ev-rangeslider-range-current-value-text",html:`${this.props.labels.selected}`}),d.createElement(m,{element:"span",className:"ev-rangeslider-range-current-value-number",html:`${this.props.value}`}))},onBeforeChange(){this.state.hasBeenResized||(this._slider.resize(),this.setState({hasBeenResized:!0})),this.props.onBeforeChange?.()},render(){const{props:e}=this;return d.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),d.createElement("div",{className:"ev-slider-container"},d.createElement(p,{ariaLabel:e.labels?.aria,ref:e=>this._slider=e,value:e.value,defaultValue:e.defaultValue,min:e.min,max:e.max,step:e.step,onChange:e.onChange,onAfterChange:e.onAfterChange,onBeforeChange:this.onBeforeChange,className:c("ev-rangeslider",{"ev-rangeslider--disabled":e.isDisabled}),thumbClassName:"ev-rangeslider__handle",trackClassName:"ev-rangeslider__bar",disabled:e.isDisabled,invert:e.isRTL}),this.renderSelectedLabel()))}});e.exports=u},88153:e=>{e.exports=(e,n="_hasBeenViewed")=>{const{component:t,isPageReady:s}=e;return!0===s&&!0===t._isReady&&!0!==t[n]}},67209:(e,n,t)=>{const s=t(95685);e.exports=e=>s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},17290:e=>{e.exports=function(e,n,t,s,i){s&&s.props&&s.props.component?(n.top&&(s.isInviewTop=!0),n.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&i&&i(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);
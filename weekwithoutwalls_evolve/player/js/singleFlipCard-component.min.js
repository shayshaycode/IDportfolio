"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6896],{55055:(e,t)=>{t.SINGLE_FLIP_CARD_CLICKED="SINGLE_FLIP_CARD_CLICKED",t.singleFlipCardItemClicked=e=>({type:t.SINGLE_FLIP_CARD_CLICKED,payload:{componentId:e}})},47742:(e,t,n)=>{const i=n(16842),{bool:o,func:s,object:r}=n(60216),a=n(27378),{Component:c}=n(84335),p=n(20499),l=n(67209),d=n(18035),m=n(88153),h=n(17290),f=i({displayName:"SingleFlipCard",propTypes:{component:r.isRequired,setComponentAsReady:s.isRequired,setComponentAsViewed:s.isRequired,setComponentAsStarted:s.isRequired,setComponentAsComplete:s.isRequired,singleFlipCardItemClicked:s.isRequired,styles:r,theme:r.isRequired,isLocked:o},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps({component:e}){const{props:t}=this;e._isComplete||!e._isFlipped||t.component._isFlipped||t.setComponentAsComplete(e._id)},onClick(){const{props:e}=this;e.component._hasStarted||e.setComponentAsStarted(e.component._id),e.singleFlipCardItemClicked(e.component._id)},onVisibilityChange(...e){h(...e,this,this.props.setComponentAsViewed)},render(){const{component:e,styles:t,theme:n,isLocked:i}=this.props,o=n._components?._flipCard?._settings?._shouldUseComponentItemStyles;return a.createElement(c,{component:e,styles:t,isVisibilitySensorActive:m(this.props),onVisibilityChange:this.onVisibilityChange},a.createElement("div",{className:l(e)},a.createElement(p,{isFlipped:!!e._isFlipped,isLocked:i,contentAlignment:e._flipCardItemContentAlignment,shouldUseFrontImageAsBackImage:!1,hasComponentItemStyles:o,onClick:this.onClick,frontText:e.frontText,frontTextStyles:d(e.frontTextStyles,null,n._swatches),frontGraphic:e._frontGraphic,frontContentGraphic:e._frontContentGraphic,backText:e.backText,backTextStyles:d(e.backTextStyles,null,n._swatches),backGraphic:e._backGraphic,backContentGraphic:e._backContentGraphic})))}});e.exports=f},45573:(e,t,n)=>{const{SINGLE_FLIP_CARD_CLICKED:i}=n(55055);e.exports=(e,t)=>t.type===i?{...e,_isFlipped:!e._isFlipped}:e},73237:(e,t,n)=>{const{registerComponent:i}=n(59671),o=n(41537),s=n(47742),{singleFlipCardItemClicked:r}=n(55055);i("singleFlipCard",{component:s,actions:{singleFlipCardItemClicked:r},reducer:n(45573),trackingMap:n(45715),mapStateToProps:(e,t)=>({isLocked:o(e,t,"article")._isLocked})})},45715:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_isFlipped:{fieldKey:"_isFlipped",type:"Boolean",shouldRestore:!0}}},20499:(e,t,n)=>{const i=n(9086),o=n(16842),{bool:s,func:r,oneOf:a,shape:c,string:p}=n(60216),l=n(27378),d=n(95685),m=n(22810),{isEnterKey:h,isSpaceKey:f}=n(22612),C=n(26159),{Spring:_,config:g,animated:k,interpolate:u}=n(24450),y=n(96834),b=n(41033),v=c({_id:p.isRequired,_type:p.isRequired}),I=c({fontSize:p,color:p,textAlign:p}),x=c({_isBottomPosition:s,src:v}),S=o({displayName:"FlipCardItem",propTypes:{itemId:p,isFlipped:s.isRequired,className:p,hasComponentItemStyles:s.isRequired,onClick:r.isRequired,contentAlignment:a(["top","center","bottom"]).isRequired,frontText:p,frontTextStyles:I,frontGraphic:v,frontContentGraphic:x,backText:p,backTextStyles:I,backGraphic:v,backContentGraphic:x,shouldUseFrontImageAsBackImage:s.isRequired,supportsAdvancedAnimations:s,isLocked:s},getDefaultProps:()=>({isFlipped:!1,hasComponentItemStyles:!1}),getInitialState:()=>({_cardHeight:0,_frontContentHeight:0,_backContentHeight:0}),shouldComponentUpdate(e){const{props:t}=this,n=["frontTextStyles","backTextStyles"];return!C(i(t,n),i(e,n))||!C(e.frontTextStyles,t.frontTextStyles)||!C(e.backTextStyles,t.backTextStyles)},setHeights(){this.setState({_cardHeight:this._front.offsetHeight,_frontContentHeight:this._frontContent.offsetHeight,_backContentHeight:this._backContent.offsetHeight})},onClick(e){e.preventDefault(),this.props.onClick(this.props.itemId)},onKeyDown(e){(h(e)||f(e))&&this.onClick(e)},shouldForceTopAlign(e){const{_cardHeight:t,_frontContentHeight:n,_backContentHeight:i}=this.state;return"front"===e&&n>t||"back"===e&&i>t},getInnerClassName(e,t){if(this.shouldForceTopAlign(t))return d(e,"ev-is-top-alignment");const{contentAlignment:n}=this.props;return d(e,{"ev-is-center-alignment":"center"===n,"ev-is-top-alignment":"top"===n,"ev-is-bottom-alignment":"bottom"===n})},getBackGraphic(e){const{shouldUseFrontImageAsBackImage:t,frontGraphic:n,backGraphic:i,isFlipped:o}=this.props;return{background:`transparent url('${m(t?n:i)}') no-repeat scroll center center / cover`,transform:u([e],(e=>`perspective(800px) rotateY(${e}deg)`)),zIndex:o?10:9}},renderImage(e,t){if(e?.src&&!!e._isBottomPosition===t)return l.createElement("div",{className:d("ev-flip-card-item-content-image",{"ev-is-bottom":t})},l.createElement(y,{graphicSrc:e.src,altText:e.alt}))},renderCardFront(){const{props:e}=this,{isFlipped:t}=e;return l.createElement(_,{native:!0,from:{y:0},to:{y:t?180:0},config:g.default},(({y:n})=>l.createElement(k.div,{className:"ev-flip-card-item-front",ref:e=>this._front=e,style:{transform:u([n],(e=>`perspective(800px) rotateY(${e}deg)`)),zIndex:t?9:10}},l.createElement("div",{className:"ev-flip-card-item-front-image"},l.createElement("img",{src:m(e.frontGraphic),"aria-hidden":"true",alt:"",onLoad:this.setHeights})),l.createElement("div",{className:this.getInnerClassName("ev-flip-card-item-front-inner","front"),style:{overflowY:t?"hidden":"auto"},"aria-hidden":t},l.createElement("div",{className:"ev-flip-card-item-content",ref:e=>this._frontContent=e},this.renderImage(e.frontContentGraphic,!1),l.createElement(b,{className:"ev-flip-card-item-front-text",style:e.frontTextStyles,body:e.frontText}),this.renderImage(e.frontContentGraphic,!0))))))},renderCardBack(){const{props:e}=this,{isFlipped:t}=e;return l.createElement(_,{native:!0,from:{y:-180},to:{y:t?0:-180},config:g.default},(({y:n})=>l.createElement(k.div,{className:"ev-flip-card-item-back",style:this.getBackGraphic(n),ref:e=>this._back=e},l.createElement("div",{className:this.getInnerClassName("ev-flip-card-item-back-inner","back"),style:{overflowY:t?"auto":"hidden"},"aria-hidden":!t},l.createElement("div",{className:"ev-flip-card-item-content",ref:e=>this._backContent=e},this.renderImage(e.backContentGraphic,!1),l.createElement(b,{className:"ev-flip-card-item-back-text",style:e.backTextStyles,body:e.backText}),this.renderImage(e.backContentGraphic,!0))))))},render(){const{props:e}=this;return l.createElement("div",{className:d("ev-flip-card-item",e.className,{"ev-flipped":e.isFlipped,"ev-has-component-item-styles":e.hasComponentItemStyles,"ev-has-fallback-flip":e.supportsAdvancedAnimations,"ev-has-svg-flipcard":"svg"===e.frontGraphic?._extension}),onClick:this.onClick,onKeyDown:this.onKeyDown,tabIndex:e.isLocked?-1:0,role:"button","aria-pressed":e.isFlipped},this.renderCardFront(),this.renderCardBack())}});e.exports=S},88153:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:i}=e;return!0===i&&!0===n._isReady&&!0!==n[t]}},18035:(e,t,n)=>{const i=n(57867);e.exports=function(e,t,n){const o={};if(!e&&!t)return o;let s,r,a;return e&&(s=e._fontSize,r=e._textAlign,e._fontColor&&"transparent"!==e._fontColor&&(a=i(e._fontColor,n))),t&&(t._fontSize&&(s=t._fontSize),t._textAlign&&(r=t._textAlign),t._fontColor&&"transparent"!==t._fontColor&&(a=i(t._fontColor,n))),s&&(o.fontSize=`${s}px`),r&&(o.textAlign=r),a&&(o.color=a),o}},67209:(e,t,n)=>{const i=n(95685);e.exports=e=>i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},17290:e=>{e.exports=function(e,t,n,i,o){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&o&&o(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);
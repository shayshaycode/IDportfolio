"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4285],{78886:(e,t,n)=>{const s=n(30485),i=n(16842),a=n(60216),r=n(27378),{connect:c}=n(13844),o=n(95685),m=n(41033),l=n(15835),v=n(86690),{ContentContainer:p,HeroImage:d}=n(85975),h=n(88644),_=n(3327),u=n(2074),E=n(10724),g=n(34662),b=n(95359),y=i({displayName:"Achievements",propTypes:{achievements:a.object.isRequired,isRTL:a.bool.isRequired,theme:a.object.isRequired,isReady:a.bool.isRequired},renderTitle(){if(this.props.achievements.title)return r.createElement(l,{headingElement:`h${this.context}`,displayTitle:this.props.achievements.title,className:"ev-header-title",innerClassName:"ev-header-title-inner"})},renderBody(){const{body:e}=this.props.achievements;if(e)return r.createElement(m,{className:"ev-header-body",innerClassName:"ev-header-body-inner",body:e})},renderPoints(){const{achievements:e,isRTL:t}=this.props;if(e._points._isEnabled)return r.createElement(u,{achievements:e,isRTL:t})},renderStars(){const{achievements:e}=this.props;if(e._stars._isEnabled)return r.createElement(E,{achievements:e})},renderBadges(){const{achievements:e}=this.props;if(e._badges._isEnabled)return r.createElement(g,{achievements:e})},renderLives(){const{achievements:e}=this.props;if(e._lives._isEnabled)return r.createElement(b,{achievements:e})},renderHeroImage(){const{_heroImage:e}=this.props.achievements;if(e?._isEnabled)return r.createElement(_.Provider,{value:this.props.achievements.title?this.context+1:this.context},r.createElement(d,{title:e.title,body:e.body,graphic:e._graphic,_contentWidth:e._contentWidth,layout:e.layout,floatingGraphic:e._floatingGraphic,parentSelector:".ev-extension-hero-container",theme:this.props.theme,isReady:this.props.isReady}))},render(){const{achievements:e,theme:t,isReady:n}=this.props,s=e._headerIcon,i=t._extensions._achievements?._settings?._headerIcon,a=s||i,c=e.title||e._heroImage?._isEnabled&&e._heroImage?.title?this.context+1:this.context;return r.createElement(p,{region:"achievements",className:"ev-extension ev-achievements",ariaLabel:e.ariaLabel},r.createElement("div",{className:"ev-extension-inner"},n?null:r.createElement(h,null),r.createElement("div",{className:"ev-extension-hero-container"},this.renderHeroImage()),r.createElement("div",{className:"ev-header"},r.createElement("div",{className:o("ev-header-inner ev-clearfix",{"ev-no-graphic":!a})},r.createElement("div",{className:"ev-header-left"},this.renderTitle(),this.renderBody()),a&&r.createElement("div",{className:"ev-header-right"},r.createElement(v,{icon:a})))),r.createElement(_.Provider,{value:c},this.renderPoints(),this.renderStars(),this.renderBadges(),this.renderLives())))}});y.contextType=_,e.exports=c((e=>({isRTL:s(e.course,"_isRTL",!1),achievements:e.achievements,theme:e.theme,isReady:e.location.isLocationReady})))(y)},34662:(e,t,n)=>{const s=n(37213),i=n(16842),a=n(27378),r=n(95685),c=n(96834),o=n(41033),m=n(15835),l=n(47662),v=n(3327),p=i({displayName:"AchievementsBadges",renderTitle(){if(this.props.achievements._badges.badgesName)return a.createElement(m,{headingElement:`h${this.context}`,displayTitle:this.props.achievements._badges.badgesName,className:"ev-component-title",innerClassName:"ev-component-title-inner"})},renderBody(){const{_badges:e}=this.props.achievements;if(e.badgesDescription)return a.createElement(o,{className:"ev-component-body",innerClassName:"ev-component-body-inner",body:e.badgesDescription})},renderBadges(){const{_badges:e}=this.props.achievements,t=e.badgesName?this.context+1:this.context;return a.createElement("div",{className:"ev-achievement-item-counters"},s(e._items,(e=>a.createElement("div",{key:e._id,className:r("ev-achievement-item-counter",{"ev-not-complete":!e._isComplete})},e._graphic?.src?a.createElement(c,{graphicSrc:e._graphic.src,altText:e._graphic.alt,className:"ev-achievement-item-badges-image"}):null,e.title&&a.createElement(m,{headingElement:`h${t}`,displayTitle:e.title,className:"ev-achievement-item-count"}),e.body&&a.createElement(o,{className:"ev-achievement-item-label",body:e.body})))))},render(){return a.createElement(l,{className:"ev-achievement-item ev-achievement-item-badges"},this.renderTitle(),this.renderBody(),this.renderBadges())}});p.contextType=v,e.exports=p},95359:(e,t,n)=>{const s=n(16842),i=n(27378),a=n(41033),r=n(15835),c=n(47662),o=n(3327),m=s({displayName:"AchievementsLives",renderTitle(){const{_lives:e}=this.props.achievements;if(e.livesName)return i.createElement(r,{headingElement:`h${this.context}`,displayTitle:e.livesName,className:"ev-component-title",innerClassName:"ev-component-title-inner"})},renderBody(){const{_lives:e}=this.props.achievements;if(e.livesDescription)return i.createElement(a,{className:"ev-component-body",innerClassName:"ev-component-body-inner",body:e.livesDescription})},renderLivesCounter(){const{_lives:e}=this.props.achievements;return i.createElement("div",{className:"ev-achievement-item-counters"},i.createElement("div",{className:"ev-achievement-item-counter"},i.createElement("i",{className:"ev-icon ev-icon-heart"}),i.createElement("div",{className:"ev-achievement-item-count"},e._currentLivesRemaining),i.createElement("div",{className:"ev-achievement-item-label"},e.livesLabel)))},render(){return i.createElement(c,{className:"ev-achievement-item ev-achievement-item-lives"},this.renderTitle(),this.renderBody(),this.renderLivesCounter())}});m.contextType=o,e.exports=m},29773:(e,t,n)=>{const s=n(86330),i=n(16842),a=n(27378),{connect:r}=n(13844),c=n(32382),o=n(3327),m=i({displayName:"AchievementsMenuHeader",renderItem(e,t,n){return a.createElement("div",{className:"ev-action-bar-item"},a.createElement("div",{className:"ev-action-bar-item-inner"},a.createElement(c,{element:`h${this.context}`,className:"ev-action-bar-item-name",html:e}),a.createElement("div",{className:"ev-action-bar-counter"},a.createElement("span",null,t,"/",n))))},renderPoints(){const{_points:e}=this.props.achievements;if(e._isEnabled&&e._maxPoints)return this.renderItem(e.pointsLabel,e._currentPoints,e._maxPoints)},renderStars(){const{_stars:e}=this.props.achievements;if(e._isEnabled&&e._maxStars)return this.renderItem(e.starsLabel,e._currentStarsCollected,e._maxStars)},renderBadges(){const{_badges:e}=this.props.achievements;if(!e._isEnabled||!e._items.length)return;const t=s(e._items,{_isComplete:!0});return this.renderItem(e.badgesLabel,t.length,e._items.length)},render(){return a.createElement("div",{className:"ev-action-bar ev-achievements-content-object-bar"},a.createElement("div",{className:"ev-action-bar-inner ev-clearfix"},this.renderPoints(),this.renderStars(),this.renderBadges()))}});m.contextType=o,e.exports=r((({achievements:e})=>({achievements:e})))(m)},5407:(e,t,n)=>{const s=n(16842),i=n(27378),{connect:a}=n(13844),{withRouter:r}=n(16094),c=n(24365),o=n(38780),m=n(41026),l=n(7253),v=s({displayName:"AchievementsNavigation",renderPoints(){const{_points:e}=this.props.achievements;if(e?._isEnabled)return i.createElement(o,{pointsLabel:e.pointsLabel,currentPoints:e._currentPoints})},renderStars(){const{_stars:e}=this.props.achievements;if(e?._isEnabled)return i.createElement(m,{currentStars:e._currentStarsCollected})},renderLives(){const{_lives:e}=this.props.achievements;if(e?._isEnabled)return i.createElement(l,{currentLives:e._currentLivesRemaining})},renderAchievementsIcon(){const{_points:e,_stars:t,_lives:n}=this.props.achievements;if(e?._isEnabled||t?._isEnabled||n?._isEnabled)return;const s=c("_achievements","_navigationIcon","trophy2");return i.createElement("div",{className:"ev-achievements-navigation-item ev-achievements-navigation-item-achievements ev-clearfix"},i.createElement("div",{className:"ev-achievements-navigation-item-glyph"},i.createElement("i",{className:`ev-icon ev-icon-${s}`})))},onClick(){const e="/achievements";if(this.props.location.pathname===e)return!1;this.props.history.push(e)},render(){const{activeOverlay:e,achievements:t}=this.props;return i.createElement("div",{role:"button",tabIndex:e?"-1":"0","aria-label":t.title,className:"ev-navigation-item ev-achievements-navigation ev-clearfix ev-has-aria-label",onClick:this.onClick},this.renderPoints(),this.renderStars(),this.renderLives(),this.renderAchievementsIcon())}});e.exports=a((({achievements:e,overlay:t})=>({achievements:e,activeOverlay:t.activeOverlay})))(r(v))},7253:(e,t,n)=>{const s=n(27378);e.exports=({currentLives:e})=>s.createElement("div",{className:"ev-achievements-navigation-item ev-achievements-navigation-item-lives ev-clearfix"},s.createElement("div",{className:"ev-achievements-navigation-item-glyph"},s.createElement("i",{className:"ev-icon ev-icon-heart"})),s.createElement("div",{className:"ev-achievements-navigation-item-count"},e))},38780:(e,t,n)=>{const s=n(27378);e.exports=({pointsLabel:e,currentPoints:t})=>s.createElement("div",{className:"ev-achievements-navigation-item ev-achievements-navigation-item-points ev-clearfix"},s.createElement("div",{className:"ev-achievements-navigation-item-glyph"},e),s.createElement("div",{className:"ev-achievements-navigation-item-count"},t))},41026:(e,t,n)=>{const s=n(27378);e.exports=({currentStars:e})=>s.createElement("div",{className:"ev-achievements-navigation-item ev-achievements-navigation-item-stars ev-clearfix"},s.createElement("div",{className:"ev-achievements-navigation-item-glyph"},s.createElement("i",{className:"ev-icon ev-icon-star"})),s.createElement("div",{className:"ev-achievements-navigation-item-count"},e))},74664:(e,t,n)=>{const s=n(16842),i=n(27378),{connect:a}=n(13844),r=n(32382),c=n(3327),o=s({displayName:"AchievementsPageHeader",renderItem(e,t,n){return i.createElement("div",{className:"ev-action-bar-item"},i.createElement("div",{className:"ev-action-bar-item-inner"},i.createElement(r,{element:`h${this.context}`,className:"ev-action-bar-item-name",html:e}),i.createElement("div",{className:"ev-action-bar-counter"},i.createElement("span",null,t,"/",n))))},renderPoints(){const{_points:e}=this.props.achievements,t=this.props.achievements.pages[this.props.page._id];if(t&&e._isEnabled&&t.maxPoints)return this.renderItem(e.pointsLabel,t.points,t.maxPoints)},renderStars(){const{_stars:e}=this.props.achievements,t=this.props.achievements.pages[this.props.page._id];if(t&&e._isEnabled&&t.maxStars)return this.renderItem(e.starsLabel,t.stars,t.maxStars)},render(){return i.createElement("div",{className:"ev-action-bar ev-achievements-content-object-bar"},i.createElement("div",{className:"ev-action-bar-inner ev-clearfix"},this.renderPoints(),this.renderStars()))}});o.contextType=c,e.exports=a((({achievements:e})=>({achievements:e})))(o)},2074:(e,t,n)=>{const s=n(16842),i=n(27378),a=n(95685),r=n(41033),c=n(15835),o=n(47662),m=n(3327),l=s({displayName:"AchievementsPoints",getSliderPercentage(){const{_points:e}=this.props.achievements;return 0===e._currentPoints?0:Math.round(e._currentPoints/e._maxPoints*100)},renderTitle(){const{_points:e}=this.props.achievements;if(e.pointsName)return i.createElement(c,{headingElement:`h${this.context}`,displayTitle:e.pointsName,className:"ev-component-title",innerClassName:"ev-component-title-inner"})},renderBody(){const{_points:e}=this.props.achievements;if(e.pointsDescription)return i.createElement(r,{className:"ev-component-body",innerClassName:"ev-component-body-inner",body:e.pointsDescription})},renderSlider(){const{achievements:e,isRTL:t}=this.props,n=this.getSliderPercentage(),s=t?"right":"left";return i.createElement("div",{className:"ev-achievement-item-progress"},i.createElement("div",{className:"ev-achievement-item-progress-bar"},i.createElement("div",{className:"ev-achievement-item-progress-indicator",style:{width:`${n}%`}}),i.createElement("div",{className:a("ev-achievement-item-progress-indicator-points",{"ev-adjust-indicator":n>70}),style:{[s]:`${n}%`}},e._points._currentPoints)),i.createElement("div",{className:"ev-achievement-item-progress-points-display"},e._points._maxPoints))},render(){return i.createElement(o,{className:"ev-achievement-item ev-achievement-item-points"},this.renderTitle(),this.renderBody(),this.renderSlider())}});l.contextType=m,e.exports=l},10724:(e,t,n)=>{const s=n(16842),i=n(27378),a=n(41033),r=n(15835),c=n(47662),o=n(3327),m=s({displayName:"AchievementsStars",renderTitle(){const{_stars:e}=this.props.achievements;if(e.starsName)return i.createElement(r,{headingElement:`h${this.context}`,displayTitle:e.starsName,className:"ev-component-title",innerClassName:"ev-component-title-inner"})},renderBody(){const{_stars:e}=this.props.achievements;if(e.starsDescription)return i.createElement(a,{className:"ev-component-body",innerClassName:"ev-component-body-inner",body:e.starsDescription})},renderStarsCounter:(e,t,n)=>i.createElement("div",{className:"ev-achievement-item-counter"},i.createElement("i",{className:`ev-icon ev-icon-${e}`}),i.createElement("div",{className:"ev-achievement-item-count"},t),i.createElement("div",{className:"ev-achievement-item-label"},n)),renderStarsCounters(){const{_stars:e}=this.props.achievements,t=e._maxStars-e._currentStarsCollected;return i.createElement("div",{className:"ev-achievement-item-counters"},this.renderStarsCounter("star",e._currentStarsCollected,e.starsLabel),this.renderStarsCounter("star-half",e._maxStars,e.starsToCollectLabel),this.renderStarsCounter("star-empty",t,e.starsMissedLabel))},render(){return i.createElement(c,{className:"ev-achievement-item ev-achievement-item-stars"},this.renderTitle(),this.renderBody(),this.renderStarsCounters())}});m.contextType=o,e.exports=m},6138:(e,t,n)=>{const{registerReducer:s,registerEpics:i}=n(59671),a=n(63565),r=n(18936),{registerTrackingMapEpic:c,achievementsNavigationEpic:o,achievementsRouteEpic:m,achievementsPageHeaderEpic:l,achievementsMenuHeaderEpic:v,achievementsComponentCompletedEpic:p,achievementsCheckBadgeCompletionEpic:d,achievementsCheckLivesEpic:h,achievementsResetCourseEpic:_}=n(66048);s("achievements",r),i(c,o,m,l,v,p,d,h,_,a("achievements"))},99818:(e,t)=>{t.ACHIEVEMENTS_COMPONENT_COMPLETED="ACHIEVEMENTS_COMPONENT_COMPLETED",t.ACHIEVEMENTS_RESET_COURSE="ACHIEVEMENTS_RESET_COURSE",t.achievementsComponentCompleted=e=>({type:t.ACHIEVEMENTS_COMPONENT_COMPLETED,payload:e})},66048:(e,t,n)=>{const s=n(30485),i=n(36782),a=n(86330),r=n(37213),c=n(1026),{Observable:o}=n(49923),{registerTrackingMap:m}=n(59671),{SETUP_APP:l,resetCourse:v}=n(81661),{COMPONENT_COMPLETED:p}=n(26759),{NavigationSideItem:d}=n(58160),{addPrompt:h}=n(36159),{addElement:_}=n(75670),u=n(24365),{ACHIEVEMENTS_COMPONENT_COMPLETED:E,ACHIEVEMENTS_RESET_COURSE:g,achievementsComponentCompleted:b}=n(99818),y=n(78886),N=n(5407),f=n(74664),C=n(29773),S=n(47072);t.registerTrackingMapEpic=(e,t)=>e.filter((e=>{if(e.type!==l)return!1;const{achievements:n}=t.getState();return n?._isEnabled})).do((()=>{m("achievements",S,"extensions")})).ignoreElements(),t.achievementsNavigationEpic=(e,t)=>e.filter((e=>{if(e.type!==l)return!1;const{achievements:n}=t.getState();return n?._isEnabled})).mergeMap((()=>{const e=t.getState().course._achievements,n=e?._showTopNavigationAchievements,s=e?._showSideNavigationAchievements,i=[];return n&&i.push(_({parent:"navigationTop",name:"achievements",component:N,position:"right",priority:1})),s&&i.push(_({parent:"navigationSide",name:"achievements",component:d,props:{link:"/achievements",icon:u("_achievements","_navigationIcon","trophy2"),label:e.title}})),i.length?o.of(...i):o.empty()})),t.achievementsRouteEpic=(e,t)=>e.filter((e=>{if(e.type!==l)return!1;const{achievements:n}=t.getState();return n?._isEnabled})).map((()=>_({parent:"router",name:"achievements",path:"/achievements",exact:!0,component:y}))),t.achievementsPageHeaderEpic=(e,t)=>e.filter((e=>{if(e.type!==l)return!1;const{achievements:n,theme:i}=t.getState(),a=s(i,"_extensions._achievements._settings._shouldHideAchievementsOnPageHeader",!1);return n?._isEnabled&&!a})).map((()=>_({parent:"page",name:"achievements",component:f,position:"actionBar"}))),t.achievementsMenuHeaderEpic=(e,t)=>e.filter((e=>{if(e.type!==l)return!1;const{achievements:n,theme:i}=t.getState(),a=s(i,"_extensions._achievements._settings._shouldHideAchievementsOnMenuHeader",!1);return n?._isEnabled&&!a})).map((()=>_({parent:"menu",name:"achievements",component:C,position:"actionBar"}))),t.achievementsComponentCompletedEpic=(e,t)=>e.filter((e=>{if(e.type!==p)return!1;const{achievements:n}=t.getState();return n&&n._isEnabled})).map((()=>{const e=i({},t.getState());if(e.achievements?._badges?._isEnabled){let t=a(e.achievements._badges._items,{_isComplete:!1});t=r(t,(({_id:e,_isComplete:t})=>({_id:e,_isComplete:t}))),e._prevIncompleteBadges=c(t,"_id")}return e.achievements?._lives?._isEnabled&&(e._prevLives=e.achievements._lives._currentLivesRemaining),b(e)})),t.achievementsCheckBadgeCompletionEpic=(e,t)=>e.filter((e=>{if(e.type!==E)return!1;const{achievements:n}=t.getState();return n?._badges?._isEnabled})).mergeMap((e=>{const n=e.payload._prevIncompleteBadges,s=t.getState().achievements,i=a(s._badges._items,(e=>{const t=n[e._id];return!!t&&e._isComplete&&e._isComplete!==t._isComplete})).map((e=>h(function(e,t){const n={title:e._badges.badgeNotifyTitle,body:t.title,_action:{text:e.title,_link:{_link:"achievements",_linkType:"extensions"}}};return t._graphic?.src&&(n._glyph={_type:"graphic",_graphicSrc:t._graphic.src}),n}(s,e))));return o.of(...i)})),t.achievementsCheckLivesEpic=(e,t)=>e.filter((e=>{if(e.type!==E)return!1;const{achievements:n}=t.getState();return n?._lives?._isEnabled})).mergeMap((e=>{const n=e.payload._prevLives,s=t.getState().achievements,i=s._lives._currentLivesRemaining;return 0!==n&&0===i?o.of(h(function(e){const t={title:e.livesLabel,body:"<p>No lives left!</p>",_glyph:{_type:"icon",_icon:"heart"}};return e._shouldResetCourseOnZeroLives&&(t._dismiss={_type:g,text:"Restart course"}),t}(s._lives))):o.empty()})),t.achievementsResetCourseEpic=e=>e.ofType(g).map((()=>v()))},18936:(e,t,n)=>{const s=n(36782),i=n(8930),a=n(86330),r=n(66901),c=n(18123),{PREVIEW_SYNCED:o,SETUP_APP:m,APP_READY:l}=n(81661),{COMPONENTS_UPDATED:v}=n(26759),{ACHIEVEMENTS_COMPONENT_COMPLETED:p}=n(99818),d={pages:{}};function h(e,t){const{components:n,contentObjects:o}=t,m=u(e,n),l=s({},e);l._points._currentPoints=m.points,l._stars._currentStarsCollected=m.stars,l._lives._currentLivesRemaining=m.lives,i(l._badges._items,(e=>{if(!e._isComplete)switch(e._badgeCompletionType){case"components":e._isComplete=function(e,t){const n=a(t,(t=>{const{_badges:n}=t;if(n&&n._badgeIds)return r(n._badgeIds,e._id)}));if(!n.length)return!1;const s=a(n,(e=>{const{_isComplete:t,_isQuestionType:n,_isCorrect:s}=e;if(t)return!(n&&!s)}));return n.length===s.length}(e,n);break;case"points":e._isComplete=m.points>=e._pointsRequired;break;case"stars":e._isComplete=m.stars>=e._starsRequired;break;default:e._isComplete=!1}}));const v=s({},e.pages);return i(o,(n=>{const i=c(t,n,"component");v[n._id]=s({},v[n._id],u(e,i))})),s({},e,l,{pages:v})}function _(e,t){let n=0,s=0;const a=e._points._defaultPoints;return i(t,(e=>{const{_points:t,_stars:i}=e;t&&t._isEnabled&&(t._pointsAwarded?n+=t._pointsAwarded:n+=a),i&&i._isEnabled&&(s+=1)})),{maxPoints:n,maxStars:s}}function u(e,t){let n=0,s=0,a=e._lives._totalLives;const r=e._points._defaultPoints;return i(t,(e=>{const{_isComplete:t,_isCorrect:i,_points:c,_stars:o,_isQuestionType:m}=e;if(t&&c&&c._isEnabled){let e=!0;m&&!i&&(e=!1),e&&(c._pointsAwarded?n+=c._pointsAwarded:n+=r)}t&&m&&i&&o&&o._isEnabled&&(s+=1),t&&m&&!i&&a>0&&(a-=1)})),{points:n,stars:s,lives:a}}e.exports=(e=d,t)=>{if(t.type===o)return d;if(t.type===m){const n=t.payload.course._achievements;if(n&&n._isEnabled){const a=s({},e,function(e,t){const{components:n,contentObjects:a}=t,r=_(e,n),o=s({},e);o._points._maxPoints=r.maxPoints,o._stars._maxStars=r.maxStars,o._lives._currentLivesRemaining=e._lives._totalLives,i(o._badges._items,(e=>{e._isComplete=!1}));const m={};return i(a,(n=>{const s=c(t,n,"component");m[n._id]=_(e,s)})),s({},e,o,{pages:m})}(n,t.payload));return s({},a,h(a,t.payload))}return d}if(!e._isEnabled)return d;switch(t.type){case p:case v:case l:return s({},e,h(e,t.payload));default:return e}}},47072:e=>{e.exports={_points:{fieldKey:"_points",type:"Object",shouldRestore:!1,subMap:{_currentPoints:{fieldKey:"_currentPoints",type:"Number"},_maxPoints:{fieldKey:"_maxPoints",type:"Number"}}},_stars:{fieldKey:"_stars",type:"Object",shouldRestore:!1,subMap:{_currentStarsCollected:{fieldKey:"_currentStarsCollected",type:"Number"},_maxStars:{fieldKey:"_maxStars",type:"Number"}}},_badges:{fieldKey:"_badges",type:"Object",shouldRestore:!1,subMap:{_items:{fieldKey:"_items",type:"Array",shouldRestore:!1,subMap:{_id:{fieldKey:"_id",type:"String"},_isComplete:{fieldKey:"_isComplete",type:"Boolean"}}}}},_lives:{fieldKey:"_lives",type:"Object",shouldRestore:!1,subMap:{_currentLivesRemaining:{fieldKey:"_currentLivesRemaining",type:"Number"},_totalLives:{fieldKey:"_totalLives",type:"Number"}}}}},24365:(e,t,n)=>{const s=n(30485),{store:i}=n(59671);e.exports=function(e,t,n){const{course:a,theme:r}=i.getState(),c=a[e],o=s(c,t),m=s(r,["_extensions",e,"_settings",t]);return o||m||n}},63565:(e,t,n)=>{const s=n(30485),{Observable:i}=n(49923),{setLocationReadyState:a,PUSH_LOCATION:r}=n(81661),c=n(81986),o=n(29650);e.exports=(e,t)=>(n,m)=>n.filter((({type:t})=>{if(t!==r)return;const{navigationStatus:n,path:s}=m.getState().location;return"plugin"===n&&s[0]===e})).switchMap((()=>{const n=m.getState(),{device:r,course:l}=n;let v;if(v=t?t(n):s(l,[`_${e}`,"_heroImage"]),!v||!v._graphic)return i.empty();const p=c(v._graphic.src,v._graphic.srcAdvanced,!0);return p?i.concat(i.of(a(!1)),i.bindCallback(o)(p,!1).map((()=>a(!0)))):i.empty()}))}}]);
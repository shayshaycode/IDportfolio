"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1088],{55187:(e,t)=>{t.CHECKLIST_ITEM_CLICKED="CHECKLIST_ITEM_CLICKED",t.CHECKLIST_ITEMS_COMPLETE="CHECKLIST_ITEMS_COMPLETE",t.checkListItemClicked=(e,i,s)=>({type:t.CHECKLIST_ITEM_CLICKED,payload:{componentId:e,itemId:i,value:s}}),t.checkListItemsComplete=e=>({type:t.CHECKLIST_ITEMS_COMPLETE,payload:{componentId:e}})},52328:(e,t,i)=>{const{registerComponent:s}=i(59671),n=i(32202),o=i(37415),{checkListItemClicked:c,checkListItemsComplete:l}=i(55187);s("checklist",{component:n,actions:{checkListItemClicked:c,checkListItemsComplete:l},reducer:o,trackingMap:i(38092)})},32202:(e,t,i)=>{const s=i(86330),n=i(30485),o=i(90589),c=i(37213),l=i(16842),{func:m,object:r,string:d}=i(60216),p=i(27378),{Component:a}=i(84335),C=i(62311),h=i(67209),u=i(88153),_=i(17290),k=i(35141),I=l({displayName:"Checklist",propTypes:{component:r.isRequired,styles:r,screenSize:d.isRequired,showFeedback:m.isRequired,checkListItemClicked:m.isRequired,checkListItemsComplete:m.isRequired,setComponentAsReady:m.isRequired,setComponentAsViewed:m.isRequired,setComponentAsStarted:m.isRequired,setComponentAsComplete:m.isRequired},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){if(e.component._isComplete||!e.component._isReady)return;const{props:t}=this,i=s(e.component._items,"_isComplete").length,o=n(t.component,"_requiredItemsCountForCompletion",0);return(o?i===o:i===e.component._items.length)?(t.checkListItemsComplete(e.component._id),t.setComponentAsComplete(e.component._id),!t.component._disableFeedbackDialogOnCompletion||t.component._shouldDisplayFeedbackInline?this.showFeedback(200):null):void 0},showFeedback(e=0){const{component:t}=this.props;if(!t._canShowFeedback)return;const i={feedbackTitle:t._shouldShowDisplayTitleInFeedback?t.displayTitle:null,feedbackMessage:t.feedbackMessage,feedbackGraphic:t.feedbackGraphic};setTimeout((()=>this.props.showFeedback(i)),e)},onVisibilityChange(...e){_(...e,this,this.props.setComponentAsViewed)},onCheckListItemClicked(e,t){const{props:i}=this;i.component._hasStarted||i.setComponentAsStarted(i.component._id),i.checkListItemClicked(i.component._id,e._id,t)},getItemsInColumns(){const{screenSize:e,component:t}=this.props,i=t._items||[],s=C(e),c=n(t,["_columns",s],1)||1,l=Math.ceil(i.length/c);return o(c,((e,t=e*l)=>i.slice(t,t+l)))},renderCheckList(e,t=0){const{component:i}=this.props,s=i.displayItemNumber?"ol":"ul";return p.createElement(s,{key:t,className:"ev-checklist-items-list"},c(e,(e=>p.createElement(k,{key:e._id,uniqueId:`${i._id}-${e._id}`,item:e,isDisabled:e._isComplete&&i._shouldDisableRecheck,displayItemNumber:i._displayItemNumber,verticallyCentreIcon:i._shouldCenterAlignCheckMark,onCheckListItemClicked:this.onCheckListItemClicked}))))},renderContent(){const{_hasColumnsLayout:e,_items:t}=this.props.component;if(!e)return this.renderCheckList(t);const i=this.getItemsInColumns();return p.createElement("div",{className:"ev-checklist-columns"},c(i,((e,t)=>this.renderCheckList(e,t))))},render(){const{props:e}=this,t=e.component._canShowFeedback&&!e.component._shouldDisplayFeedbackInline;return p.createElement(a,{component:e.component,styles:e.styles,hasQuestionButtons:t,shouldHideActionButton:!0,shouldHideMarking:!0,isFeedbackEnabled:e.component._isCorrect,onFeedbackButtonClicked:this.showFeedback,isVisibilitySensorActive:u(e),onVisibilityChange:this.onVisibilityChange},p.createElement("div",{className:h(e.component)},this.renderContent()))}});e.exports=I},35141:(e,t,i)=>{const{bool:s,func:n,object:o,string:c}=i(60216),l=i(27378),m=i(95685),{isEnterKey:r}=i(22612),d=i(86690),p=i(32382),a=e=>{const t=()=>{if(e.isDisabled)return;const t=!!e.item._isComplete;e.onCheckListItemClicked(e.item,!t)};return l.createElement("li",{className:"ev-checklist-item"},l.createElement("input",{id:e.uniqueId,type:"checkbox",value:e.uniqueId,checked:!!e.item._isComplete,"aria-labelledby":`${e.uniqueId}-label`,disabled:e.isDisabled,onChange:t,onKeyDown:e=>r(e)&&t()}),l.createElement("label",{id:`${e.uniqueId}-label`,htmlFor:e.uniqueId,"aria-hidden":!0,className:m({"ev-centered":e.verticallyCentreIcon,"ev-disabled":e.isDisabled})},l.createElement("div",{className:m("ev-checklist-item-checkbox",{"ev-checked":e.item._isComplete})},e.item._isComplete?l.createElement(d,{icon:"check",size:15}):e.displayItemNumber?l.createElement("span",{className:"ev-checklist-item-checkbox-number"},e.item.itemIndex+1):null),l.createElement(p,{element:"span",className:"ev-checklist-item-text",html:e.item.title})))};a.propTypes={uniqueId:c.isRequired,item:o.isRequired,isDisabled:s,displayItemNumber:s,verticallyCentreIcon:s,onCheckListItemClicked:n.isRequired},e.exports=a},37415:(e,t,i)=>{const s=i(37213),{CHECKLIST_ITEM_CLICKED:n,CHECKLIST_ITEMS_COMPLETE:o}=i(55187);e.exports=(e,{type:t,payload:i})=>{switch(t){case n:{const t=s(e._items,(e=>e._id===i.itemId?{...e,_isComplete:i.value}:e));return{...e,_items:t}}case o:return{...e,_isCorrect:!0};default:return e}}},38092:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isComplete:{fieldKey:"_isComplete",type:"Boolean",shouldRestore:!0}}}}},88153:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:s}=e;return!0===s&&!0===i._isReady&&!0!==i[t]}},67209:(e,t,i)=>{const s=i(95685);e.exports=e=>s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},17290:e=>{e.exports=function(e,t,i,s,n){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&n&&n(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);
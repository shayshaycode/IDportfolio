(self.webpackChunk=self.webpackChunk||[]).push([[8053],{61393:(e,t)=>{"use strict";t.SOCIALMCQ_ITEM_CLICKED="SOCIALMCQ_ITEM_CLICKED",t.socialMcqItemClicked=e=>({type:t.SOCIALMCQ_ITEM_CLICKED,payload:e})},83900:(e,t,s)=>{"use strict";const o=s(37213),n=s(56786),i=s(16842),r=s(60216),l=s(27378),a=s(16713),{Component:c}=s(84335),d=s(56984),m=s(35289),p=s(67209),u=s(88153),C=s(17290),h=s(51469),b=s(3658),_=i({displayName:"SocialMCQ",propTypes:{component:r.object.isRequired,setComponentAsReady:r.func.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsStarted:r.func.isRequired,setComponentAsComplete:r.func.isRequired,socialMcqItemClicked:r.func.isRequired,buttons:r.object.isRequired,articleStyle:r.string,theme:r.object.isRequired,styles:r.any},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},onItemClicked(e){const{props:t}=this;t.component._hasStarted&&t.setComponentAsStarted(t.component._id),t.socialMcqItemClicked({componentId:t.component._id,itemId:e})},onActionButtonClicked(){const{component:e,setComponentAsComplete:t}=this.props;if(n(e._items,{_isSelected:!0}))return t(e._id,{_isEnabled:!1})},onVisibilityChange(...e){C(...e,this,this.props.setComponentAsViewed)},renderItems(){const{component:e,theme:t}=this.props;return o(e._items,((s,o)=>l.createElement(h,{key:s._id,index:o,item:s,id:`${e._id}-${s._id}`,name:e._id,isComplete:e._isComplete,isEnabled:!e._isComplete,onItemClicked:this.onItemClicked,swatches:t._swatches})))},renderButtons(){const{buttons:e,component:t}=this.props,s=m(this.props);return l.createElement("div",{className:d(s)},l.createElement("div",{className:"ev-buttons-cluster-bottom ev-clearfix"},l.createElement(a,{className:"ev-buttons-action",text:e._submit.buttonText,icon:s._actionButtonIcon,iconPosition:s._displayQuestionButtonIconAfterText?"right":"left",isDisabled:t._isComplete,"aria-label":e._submit.ariaLabel,onClick:this.onActionButtonClicked})))},renderResultsGraph(){const{component:e,theme:t,articleStyle:s}=this.props;let o=t._componentItem._variables._componentItemBackgroundColor["@component-item-background-color"];if(s&&"none"!==s&&(o=t._articleStyles[s]._elements._componentItem._variables._componentItemBackgroundColor["@component-item-background-color"]),e._isComplete)return l.createElement(b,{defaultColor:o,items:e._items,selectedItem:n(e._items,{_isSelected:!0}),isLabelFullWidth:e._isLabelFullWidth,resultsLabelText:e.resultsLabelText,shouldDisplayLabelAsText:e._shouldDisplayLabelAsText,swatches:t._swatches})},render(){const{props:e}=this;return l.createElement(c,{component:e.component,styles:e.styles,isVisibilitySensorActive:u(e),onVisibilityChange:this.onVisibilityChange},l.createElement("div",{className:p(e.component)},l.createElement("div",{className:"ev-socialMCQ-items"},this.renderItems()),this.renderButtons(),this.renderResultsGraph()))}});e.exports=_},51469:(e,t,s)=>{"use strict";const o=s(16842),n=s(60216),i=s(27378),r=s(57867),l=s(32382),a=s(86690),c=o({displayName:"SocialMcqItem",propTypes:{id:n.string.isRequired,name:n.string.isRequired,isEnabled:n.bool,item:n.object.isRequired,onItemClicked:n.func.isRequired,swatches:n.object},getLabelStyle(){const{item:e,swatches:t}=this.props,s={};return e._backgroundColor&&"transparent"!==e._backgroundColor&&(s.backgroundColor=r(e._backgroundColor,t),s.borderColor=r(e._backgroundColor,t)),e._textColor&&"transparent"!==e._textColor&&(s.color=r(e._textColor,t)),s},render(){const{props:e}=this;return i.createElement("div",{className:"ev-socialMCQ-item",style:{pointerEvents:e.isEnabled?"all":"none"}},i.createElement("input",{id:e.id,value:e.id,name:e.name,type:"radio",checked:e.item._isSelected||!1,onChange:()=>this.props.onItemClicked(e.item._id),disabled:!1===e.isEnabled}),i.createElement("label",{htmlFor:e.id,style:this.getLabelStyle()},i.createElement("div",{className:"ev-socialMCQ-item-state"},i.createElement(a,{className:"ev-socialMCQ-item-icon",icon:e.item._isSelected?"radio-button":"circle"}),i.createElement("span",{className:"ev-socialMCQ-item-prefix"},e.item.option)),i.createElement(l,{element:"span",className:"ev-socialMCQ-item-inner",html:e.item.text})))}});e.exports=c},90988:(e,t,s)=>{"use strict";const o=s(16842),n=s(27378),i=o({displayName:"SocialMCQLegend",renderItems:function(){return this.props.items.map(((e,t)=>n.createElement("div",{className:"ev-socialMCQ-legend-item",key:t},n.createElement("div",{className:"ev-socialMCQ-legend-item-color",style:{backgroundColor:e.color}}),n.createElement("div",{className:"ev-socialMCQ-legend-item-text",style:{color:e.color}},e.label))))},render:function(){return n.createElement("div",{className:"ev-socialMCQ-legend"},this.renderItems())}});e.exports=i},3658:(e,t,s)=>{"use strict";const o=s(8930),n=s(72720),i=s(95919),r=s(16842),l=s(27378),a=s(95685),c=s(41033),d=s(57867),m=s(90988),p=l.lazy((()=>Promise.all([s.e(8274),s.e(4547)]).then(s.bind(s,28552)).then((e=>Promise.resolve({default:e.Doughnut}))))),u=r({displayName:"SocialMCQResultsGraph",getInitialState(){return{data:this.getData()}},getData(){const{items:e,selectedItem:t,defaultColor:s,swatches:r}=this.props,l={labels:[],datasets:[]},a={data:[],backgroundColor:[],hoverBackgroundColor:[]};return o(e,(e=>{let o=e._mockResult;(n(o)||i(o)||o<0)&&(o=0),e._id===t._id&&(o+=1);const c=e.option||"",m="transparent"!==e._backgroundColor?d(e._backgroundColor,r):d(s,r);l.labels.push(c),a.data.push(o),a.backgroundColor.push(m),a.hoverBackgroundColor.push(m)})),l.datasets.push(a),l},renderResultsLabel(){const{resultsLabelText:e,shouldDisplayLabelAsText:t}=this.props;if(e)return t?l.createElement(c,{className:"ev-socialMCQ-results-label ev-component-body",innerClassName:"ev-component-body-inner",body:e}):l.createElement(c,{className:a("ev-socialMCQ-results-label ev-label",{"ev-is-full-width":this.props.isLabelFullWidth}),body:e})},renderDoughnut(){const{data:e}=this.state;return l.createElement("div",{className:"ev-socialMCQ-doughnut-container",style:{height:"250px",width:"250px"}},l.createElement(l.Suspense,{fallback:l.createElement("div",null)},l.createElement(p,{data:e,options:{maintainAspectRatio:!1,legend:{display:!1}}})))},renderLegend(){const{items:e,defaultColor:t,swatches:s}=this.props,o=e.map((e=>({color:"transparent"!==e._backgroundColor?d(e._backgroundColor,s):d(t,s),label:e.option||""})));return l.createElement(m,{items:o})},render(){return l.createElement("div",{className:"ev-socialMCQ-results-graph"},this.renderResultsLabel(),this.renderDoughnut(),this.renderLegend())}});e.exports=u},61314:(e,t,s)=>{"use strict";const o=s(41537);e.exports=(e,t)=>({articleStyle:o(e,t,"article")._classes,buttons:e.course._buttons})},68687:(e,t,s)=>{"use strict";const o=s(37213),{SOCIALMCQ_ITEM_CLICKED:n}=s(61393);e.exports=(e,t)=>t.type===n?{...e,_items:o(e._items,(e=>e._id!==t.payload.itemId||e._isSelected?{...e,_isSelected:!1}:{...e,_isSelected:!0}))}:e},64863:(e,t,s)=>{"use strict";const{registerComponent:o}=s(59671),n=s(83900),i=s(68687),{socialMcqItemClicked:r}=s(61393);o("socialMCQ",{component:n,actions:{socialMcqItemClicked:r},reducer:i,mapStateToProps:s(61314),trackingMap:s(13057)})},13057:(e,t,s)=>{"use strict";const o=s(38640);e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},text:{fieldKey:"text",shouldRestore:!1,type:"Function",mapCallback:function(e,t){return"string"==typeof t?.text?o(t.text):""}},_isSelected:{fieldKey:"_isSelected",type:"Boolean",shouldRestore:!0}}}}},88153:e=>{"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:o}=e;return!0===o&&!0===s._isReady&&!0!==s[t]}},67209:(e,t,s)=>{"use strict";const o=s(95685);e.exports=e=>o(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},17290:e=>{"use strict";e.exports=function(e,t,s,o,n){o&&o.props&&o.props.component?(t.top&&(o.isInviewTop=!0),t.bottom&&(o.isInviewBottom=!0),o.isInviewTop&&o.isInviewBottom&&n&&n(o.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},95919:(e,t,s)=>{var o=s(80022);e.exports=function(e){return o(e)&&e!=+e}},80022:(e,t,s)=>{var o=s(94318),n=s(3387);e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==o(e)}}}]);
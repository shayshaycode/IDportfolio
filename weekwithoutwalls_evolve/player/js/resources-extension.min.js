"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6211],{91031:(e,t)=>{t.RESOURCES_FILTER_CHANGED="RESOURCES_FILTER_CHANGED",t.resourcesFilterChanged=e=>({type:t.RESOURCES_FILTER_CHANGED,payload:e})},93905:(e,t,r)=>{const s=r(86330),i=r(37213),n=r(8930),a=r(16842),o=r(60216),c=r(27378),{connect:l}=r(13844),u=r(95685),{ContentContainer:m,HeroImage:p}=r(85975),d=r(88644),h=r(41033),v=r(15835),_=r(86690),E=r(47662),g=r(3327),{resourcesFilterChanged:y}=r(91031),b=r(84204),f=r(30057),N=a({displayName:"Resources",propTypes:{theme:o.object.isRequired,isReady:o.bool.isRequired,resources:o.object.isRequired,resourcesFilterChanged:o.func.isRequired},onFilterChange(e){this.props.resourcesFilterChanged(e.target.value)},getResourceTypes(){const e=[];return n(this.props.resources._resourcesItems,(({_type:t})=>{e.includes(t)||e.push(t)})),e},renderTitle(){if(this.props.resources.title)return c.createElement(v,{headingElement:`h${this.context}`,displayTitle:this.props.resources.title,className:"ev-header-title",innerClassName:"ev-header-title-inner"})},renderDescription(){if(this.props.resources.description)return c.createElement(h,{className:"ev-header-body",innerClassName:"ev-header-body-inner",body:this.props.resources.description})},renderFilter(){const{resources:e}=this.props,t=this.getResourceTypes();if(t.length<=1)return null;t.unshift(b.ALL);const r=i(t,(t=>c.createElement("option",{key:t,value:t},e._filterButtons[t])));return c.createElement("div",{className:"ev-resources-filter ev-action-bar"},c.createElement("div",{className:"ev-resources-filter-inner ev-action-bar-inner"},c.createElement("select",{value:e.filterType,onChange:this.onFilterChange,"aria-label":e.filterAriaLabel},r)))},renderItems(){const{resources:e}=this.props,t=s(e._resourcesItems,{_isVisible:!0});return i(t,(e=>c.createElement(f,{key:e._id,item:e})))},renderContent(){if(this.props.resources._resourcesItems)return c.createElement(E,null,c.createElement("ul",{className:"ev-list-items"},this.renderItems()))},renderHeroImage(){const{_heroImage:e}=this.props.resources;if(e?._isEnabled)return c.createElement(g.Provider,{value:this.props.resources.title?this.context+1:this.context},c.createElement(p,{title:e.title,body:e.body,graphic:e._graphic,_contentWidth:e._contentWidth,layout:e.layout,floatingGraphic:e._floatingGraphic,parentSelector:".ev-extension-hero-container",theme:this.props.theme,isReady:this.props.isReady}))},render(){const{resources:e,theme:t,isReady:r}=this.props,s=e._headerIcon,i=t._extensions._resources?._settings?._headerIcon,n=s||i,a=e.title||e._heroImage?._isEnabled&&e._heroImage?.title?this.context+1:this.context;return c.createElement(m,{region:"resources",className:"ev-extension ev-resources",ariaLabel:e.ariaLabel},c.createElement("div",{className:"ev-extension-inner"},r?null:c.createElement(d,null),c.createElement("div",{className:"ev-extension-hero-container"},this.renderHeroImage()),c.createElement("div",{className:u("ev-header",{"ev-header-with-action-bar":this.getResourceTypes().length>1})},c.createElement("div",{className:u("ev-header-inner ev-clearfix",{"ev-no-graphic":!n})},c.createElement("div",{className:"ev-header-left"},this.renderTitle(),this.renderDescription()),n&&c.createElement("div",{className:"ev-header-right"},c.createElement(_,{icon:n})))),this.renderFilter(),c.createElement(g.Provider,{value:a},this.renderContent())))}});N.contextType=g,e.exports=l((e=>({resources:e.resources,theme:e.theme,isReady:e.location.isLocationReady})),{resourcesFilterChanged:y})(N)},30057:(e,t,r)=>{const s=r(60216),i=r(27378),n=r(22810),a=r(41033),o=r(15835),c=r(3327),l=({item:e})=>{const t=i.useContext(c);return i.createElement("li",{className:"ev-resources-item ev-list-item"},i.createElement("div",{className:"ev-resources-item ev-list-item-inner"},i.createElement("div",{className:"ev-list-item-left"},i.createElement(o,{headingElement:`h${t}`,displayTitle:e.title,className:"ev-resources-item-title ev-list-item-title",innerClassName:"ev-resources-item-title-inner ev-list-item-title-inner"}),i.createElement(a,{className:"ev-resources-item-description",innerClassName:"ev-resources-item-description-inner",body:e.description})),i.createElement("div",{className:"ev-list-item-right"},(()=>{const t=e.view||"View",r=e._asset?n(e._asset):e._link;return i.createElement("a",{className:"ev-resources-item-open ev-button ev-primary",target:"_blank",href:r,rel:"noreferrer"},t)})())))};l.propTypes={item:s.shape({title:s.string,description:s.string,view:s.string,_asset:s.object,_link:s.string}).isRequired},e.exports=l},21861:(e,t,r)=>{var s=r(49923);const i=r(30485),{SETUP_APP:n}=r(81661),{addElement:a}=r(75670),{NavigationSideItem:o}=r(58160),c=r(24365),l=r(93905);t.resourcesElementsEpic=(e,t)=>e.filter((e=>e.type===n&&t.getState().course._resources?._isEnabled)).mergeMap((()=>{const e=t.getState().course._resources,r=[a({parent:"router",name:"resources",path:"/resources",exact:!0,component:l,getShouldPersist:e=>i(e,"course._resources._isEnabled",!1)})];return e._shouldDisableNavigationSideItem||r.push(a({parent:"navigationSide",name:"resources",component:o,props:{link:"/resources",icon:c("_resources","_navigationIcon","box"),label:e.title}})),s.Observable.of(...r)}))},84204:e=>{e.exports={ALL:"all",DOCUMENT:"document",LINK:"link"}},75373:(e,t,r)=>{const s=r(37213),{SETUP_APP:i}=r(81661),{RESOURCES_FILTER_CHANGED:n}=r(91031),a=r(84204),o={filterType:a.ALL};function c(e,t){return s(e,(e=>t===a.ALL||e._type===t?{...e,_isVisible:!0}:{...e,_isVisible:!1}))}e.exports=(e=o,t)=>{if(t.type===i){const e=t.payload.course._resources;return e&&e._isEnabled?{...o,...e,_resourcesItems:c(e._resourcesItems,o.filterType)}:o}return e._isEnabled?t.type===n?{...e,filterType:t.payload,_resourcesItems:c(e._resourcesItems,t.payload)}:e:o}},76210:(e,t,r)=>{const{registerReducer:s,registerEpics:i}=r(59671),n=r(63565),a=r(75373),{resourcesElementsEpic:o}=r(21861);s("resources",a),i(o,n("resources"))},24365:(e,t,r)=>{const s=r(30485),{store:i}=r(59671);e.exports=function(e,t,r){const{course:n,theme:a}=i.getState(),o=n[e],c=s(o,t),l=s(a,["_extensions",e,"_settings",t]);return c||l||r}},63565:(e,t,r)=>{const s=r(30485),{Observable:i}=r(49923),{setLocationReadyState:n,PUSH_LOCATION:a}=r(81661),o=r(81986),c=r(29650);e.exports=(e,t)=>(r,l)=>r.filter((({type:t})=>{if(t!==a)return;const{navigationStatus:r,path:s}=l.getState().location;return"plugin"===r&&s[0]===e})).switchMap((()=>{const r=l.getState(),{device:a,course:u}=r;let m;if(m=t?t(r):s(u,[`_${e}`,"_heroImage"]),!m||!m._graphic)return i.empty();const p=o(m._graphic.src,m._graphic.srcAdvanced,!0);return p?i.concat(i.of(n(!1)),i.bindCallback(c)(p,!1).map((()=>n(!0)))):i.empty()}))}}]);